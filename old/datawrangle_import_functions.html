<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Importing data into R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-45631879-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-45631879-2');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("datawrangle_import_functions.Rmd");
});
</script>



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computing for the Social Sciences</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="faq.html">FAQ</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Importing data into R</h1>

</div>


<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(here)
<span class="kw">theme_set</span>(<span class="kw">theme_minimal</span>())

<span class="co"># set seed for reproducibility</span>
<span class="kw">set.seed</span>(<span class="dv">1234</span>)</code></pre></div>
<div id="readr-vs.base-r" class="section level1">
<h1><code>readr</code> vs. base R</h1>
<p>One of the main advantages of <code>readr</code> functions over base R functions is that <a href="http://r4ds.had.co.nz/data-import.html#compared-to-base-r">they are typically much faster</a>. For example, let’s import a randomly generated CSV file with 50,000 rows and <code>ncol(data_small)</code> columns. How long does it take <code>read.csv()</code> to import this file vs. <code>readr::read_csv()</code>? To assess the differences, we use the <a href="https://cran.r-project.org/web/packages/microbenchmark/"><code>microbenchmark</code></a> to run each function 100 times and compare the distributions of the time it takes to complete the data import:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(microbenchmark)

results_small &lt;-<span class="st"> </span><span class="kw">microbenchmark</span>(
  <span class="dt">read.csv =</span> <span class="kw">read.csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;sim-data-small.csv&quot;</span>)),
  <span class="dt">read_csv =</span> <span class="kw">read_csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;sim-data-small.csv&quot;</span>))
)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">autoplot</span>(results_small) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">100</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Time [milliseconds], logged&quot;</span>)</code></pre></div>
<p><img src="datawrangle_import_functions_files/figure-html/compare-speed-small-plot-1.png" width="672" /></p>
<p><code>read_csv()</code> is over 5 times faster than <code>read.csv()</code>. Of course with relatively small data files, this isn’t a large difference in absolute terms (a difference of 100 milliseconds is only .1 second). However, as the data file increases in size the performance savings will be much larger. Consider the same test with a CSV file with 5,000,000 rows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(microbenchmark)

results_large &lt;-<span class="st"> </span><span class="kw">microbenchmark</span>(
  <span class="dt">read.csv =</span> <span class="kw">read.csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;sim-data-large.csv&quot;</span>)),
  <span class="dt">read_csv =</span> <span class="kw">read_csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;sim-data-large.csv&quot;</span>))
)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">autoplot</span>(results_large) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="fl">2.5</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Time [seconds], logged&quot;</span>)</code></pre></div>
<p><img src="datawrangle_import_functions_files/figure-html/compare-speed-large-plot-1.png" width="672" /></p>
<p>Here <code>read_csv()</code> is far superior to <code>read.csv()</code>.</p>
</div>
<div id="alternative-file-formats" class="section level1">
<h1>Alternative file formats</h1>
<p>CSV files, while common, are not the only type of data storage format you will encounter in the wild. Here is a quick primer on other file formats you may encounter and how to import/export them using R. We’ll use the <code>challenge</code> dataset in <code>readr</code> to demonstrate some of these formats.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">challenge &lt;-<span class="st"> </span><span class="kw">read_csv</span>(
  <span class="kw">readr_example</span>(<span class="st">&quot;challenge.csv&quot;</span>), 
  <span class="dt">col_types =</span> <span class="kw">cols</span>(
    <span class="dt">x =</span> <span class="kw">col_double</span>(),
    <span class="dt">y =</span> <span class="kw">col_date</span>()
  )
)

challenge</code></pre></div>
<pre><code>## # A tibble: 2,000 x 2
##        x      y
##    &lt;dbl&gt; &lt;date&gt;
##  1   404     NA
##  2  4172     NA
##  3  3004     NA
##  4   787     NA
##  5    37     NA
##  6  2332     NA
##  7  2489     NA
##  8  1449     NA
##  9  3665     NA
## 10  3863     NA
## # ... with 1,990 more rows</code></pre>
<div id="rds" class="section level2">
<h2>RDS</h2>
<p><strong>RDS</strong> is a custom binary format used exclusively by R to store data objects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># write to csv</span>
<span class="kw">write_csv</span>(challenge, <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.csv&quot;</span>))

<span class="co"># write to/read from rds</span>
<span class="kw">write_rds</span>(challenge, <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.csv&quot;</span>))
<span class="kw">read_rds</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.csv&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 2,000 x 2
##        x y         
##    &lt;dbl&gt; &lt;date&gt;    
##  1   404 NA        
##  2  4172 NA        
##  3  3004 NA        
##  4   787 NA        
##  5    37 NA        
##  6  2332 NA        
##  7  2489 NA        
##  8  1449 NA        
##  9  3665 NA        
## 10  3863 NA        
## # … with 1,990 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># compare file size</span>
<span class="kw">file.info</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.rds&quot;</span>))<span class="op">$</span>size <span class="op">%&gt;%</span>
<span class="st">  </span>utils<span class="op">:::</span><span class="kw">format.object_size</span>(<span class="st">&quot;auto&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;31.9 Kb&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.info</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.csv&quot;</span>))<span class="op">$</span>size <span class="op">%&gt;%</span>
<span class="st">  </span>utils<span class="op">:::</span><span class="kw">format.object_size</span>(<span class="st">&quot;auto&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;31.9 Kb&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># compare read speeds</span>
<span class="kw">microbenchmark</span>(
  <span class="dt">read_csv =</span> <span class="kw">read_csv</span>(
    <span class="kw">readr_example</span>(<span class="st">&quot;challenge.csv&quot;</span>), 
    <span class="dt">col_types =</span> <span class="kw">cols</span>(
      <span class="dt">x =</span> <span class="kw">col_double</span>(),
      <span class="dt">y =</span> <span class="kw">col_date</span>()
    )
  ),
  <span class="dt">read_rds =</span> <span class="kw">read_rds</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.rds&quot;</span>))
) <span class="op">%&gt;%</span>
<span class="st">  </span>autoplot <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Time [microseconds], logged&quot;</span>)</code></pre></div>
<p><img src="datawrangle_import_functions_files/figure-html/rds-1.png" width="672" /></p>
<p>By default, <code>write_rds()</code> does not compress the <code>.rds</code> file; use the <code>compress</code> argument to implement one of several different compression algorithms. <code>read_rds()</code> is noticably faster than <code>read_csv()</code>, and also has the benefit of <a href="http://r4ds.had.co.nz/data-import.html#writing-to-a-file">preserving column types</a>. The downside is that RDS is only implemented by R; it is not used by any other program so if you need to import/export data files into other languages like Python (or open in Excel), RDS is not a good storage format.</p>
</div>
<div id="feather" class="section level2">
<h2><code>feather</code></h2>
<p>The <code>feather</code> package implements a binary file format that is cross-compatible with many different programming languages:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(feather)

<span class="kw">write_feather</span>(challenge, <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.feather&quot;</span>))
<span class="kw">read_feather</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.feather&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 2,000 x 2
##        x y         
##    &lt;dbl&gt; &lt;date&gt;    
##  1   404 NA        
##  2  4172 NA        
##  3  3004 NA        
##  4   787 NA        
##  5    37 NA        
##  6  2332 NA        
##  7  2489 NA        
##  8  1449 NA        
##  9  3665 NA        
## 10  3863 NA        
## # … with 1,990 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># compare read speeds</span>
<span class="kw">microbenchmark</span>(
  <span class="dt">read_csv =</span> <span class="kw">read_csv</span>(
    <span class="kw">readr_example</span>(<span class="st">&quot;challenge.csv&quot;</span>), 
    <span class="dt">col_types =</span> <span class="kw">cols</span>(
      <span class="dt">x =</span> <span class="kw">col_double</span>(),
      <span class="dt">y =</span> <span class="kw">col_date</span>()
    )
  ),
  <span class="dt">read_rds =</span> <span class="kw">read_rds</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.rds&quot;</span>)),
  <span class="dt">read_feather =</span> <span class="kw">read_feather</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;challenge.feather&quot;</span>))
) <span class="op">%&gt;%</span>
<span class="st">  </span>autoplot <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Time [microseconds], logged&quot;</span>)</code></pre></div>
<p><img src="datawrangle_import_functions_files/figure-html/feather-1.png" width="672" /></p>
<p><code>feather</code> is generally faster than RDS and <code>read_csv()</code>.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> Furthermore, <a href="https://github.com/wesm/feather">it has native support for Python, R, and Julia.</a>, so if you develop an analytics pipeline that switches between R and Python, you can import/export data files in <code>.feather</code> without any loss of information.</p>
</div>
<div id="readxl" class="section level2">
<h2><code>readxl</code></h2>
<p><a href="http://readxl.tidyverse.org/"><code>readxl</code></a> enables you to read (but not write) Excel files (<code>.xls</code> and <code>xlsx</code>).<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readxl)

xlsx_example &lt;-<span class="st"> </span><span class="kw">readxl_example</span>(<span class="st">&quot;datasets.xlsx&quot;</span>)
<span class="kw">read_excel</span>(xlsx_example)</code></pre></div>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;   &lt;chr&gt;
##  1          5.1         3.5          1.4         0.2  setosa
##  2          4.9         3.0          1.4         0.2  setosa
##  3          4.7         3.2          1.3         0.2  setosa
##  4          4.6         3.1          1.5         0.2  setosa
##  5          5.0         3.6          1.4         0.2  setosa
##  6          5.4         3.9          1.7         0.4  setosa
##  7          4.6         3.4          1.4         0.3  setosa
##  8          5.0         3.4          1.5         0.2  setosa
##  9          4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa
## # ... with 140 more rows</code></pre>
<p>The nice thing about <code>readxl</code> is that you can access multiple sheets from the workbook. List the sheet names with <code>excel_sheets()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">excel_sheets</span>(xlsx_example)</code></pre></div>
<pre><code>## [1] &quot;iris&quot;     &quot;mtcars&quot;   &quot;chickwts&quot; &quot;quakes&quot;</code></pre>
<p>Then specify which worksheet you want by name or number:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read_excel</span>(xlsx_example, <span class="dt">sheet =</span> <span class="st">&quot;chickwts&quot;</span>)</code></pre></div>
<pre><code>## # A tibble: 71 x 2
##    weight      feed
##     &lt;dbl&gt;     &lt;chr&gt;
##  1    179 horsebean
##  2    160 horsebean
##  3    136 horsebean
##  4    227 horsebean
##  5    217 horsebean
##  6    168 horsebean
##  7    108 horsebean
##  8    124 horsebean
##  9    143 horsebean
## 10    140 horsebean
## # ... with 61 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read_excel</span>(xlsx_example, <span class="dt">sheet =</span> <span class="dv">2</span>)</code></pre></div>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  21.0     6 160.0   110  3.90 2.620 16.46     0     1     4     4
##  2  21.0     6 160.0   110  3.90 2.875 17.02     0     1     4     4
##  3  22.8     4 108.0    93  3.85 2.320 18.61     1     1     4     1
##  4  21.4     6 258.0   110  3.08 3.215 19.44     1     0     3     1
##  5  18.7     8 360.0   175  3.15 3.440 17.02     0     0     3     2
##  6  18.1     6 225.0   105  2.76 3.460 20.22     1     0     3     1
##  7  14.3     8 360.0   245  3.21 3.570 15.84     0     0     3     4
##  8  24.4     4 146.7    62  3.69 3.190 20.00     1     0     4     2
##  9  22.8     4 140.8    95  3.92 3.150 22.90     1     0     4     2
## 10  19.2     6 167.6   123  3.92 3.440 18.30     1     0     4     4
## # ... with 22 more rows</code></pre>
</div>
<div id="haven" class="section level2">
<h2><code>haven</code></h2>
<p><a href="http://haven.tidyverse.org/"><code>haven</code></a> allows you to read and write data from other statistical packages such as SAS (<code>.sas7bdat</code> + <code>.sas7bcat</code>), SPSS (<code>.sav</code> + <code>.por</code>), and Stata (<code>.dta</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(haven)

<span class="co"># SAS</span>
<span class="kw">read_sas</span>(<span class="kw">system.file</span>(<span class="st">&quot;examples&quot;</span>, <span class="st">&quot;iris.sas7bdat&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;haven&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 150 x 5
##    Sepal_Length Sepal_Width Petal_Length Petal_Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_sas</span>(mtcars, <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;mtcars.sas7bdat&quot;</span>))

<span class="co"># SPSS</span>
<span class="kw">read_sav</span>(<span class="kw">system.file</span>(<span class="st">&quot;examples&quot;</span>, <span class="st">&quot;iris.sav&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;haven&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl+lbl&gt;
##  1          5.1         3.5          1.4         0.2 1 [setosa]
##  2          4.9         3            1.4         0.2 1 [setosa]
##  3          4.7         3.2          1.3         0.2 1 [setosa]
##  4          4.6         3.1          1.5         0.2 1 [setosa]
##  5          5           3.6          1.4         0.2 1 [setosa]
##  6          5.4         3.9          1.7         0.4 1 [setosa]
##  7          4.6         3.4          1.4         0.3 1 [setosa]
##  8          5           3.4          1.5         0.2 1 [setosa]
##  9          4.4         2.9          1.4         0.2 1 [setosa]
## 10          4.9         3.1          1.5         0.1 1 [setosa]
## # … with 140 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_sav</span>(mtcars, <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;mtcars.sav&quot;</span>))

<span class="co"># Stata</span>
<span class="kw">read_dta</span>(<span class="kw">system.file</span>(<span class="st">&quot;examples&quot;</span>, <span class="st">&quot;iris.dta&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;haven&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 150 x 5
##    sepallength sepalwidth petallength petalwidth species
##          &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  
##  1        5.10       3.5         1.40      0.200 setosa 
##  2        4.90       3           1.40      0.200 setosa 
##  3        4.70       3.20        1.30      0.200 setosa 
##  4        4.60       3.10        1.5       0.200 setosa 
##  5        5          3.60        1.40      0.200 setosa 
##  6        5.40       3.90        1.70      0.400 setosa 
##  7        4.60       3.40        1.40      0.300 setosa 
##  8        5          3.40        1.5       0.200 setosa 
##  9        4.40       2.90        1.40      0.200 setosa 
## 10        4.90       3.10        1.5       0.100 setosa 
## # … with 140 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_dta</span>(mtcars, <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;mtcars.dta&quot;</span>))</code></pre></div>
<p>That said, if you can obtain your data file in a plain <code>.csv</code> or <code>.tsv</code> file format, <strong>I strongly recommend it</strong>. SAS, SPSS, and Stata files represent labeled data and missing values differently from R. <code>haven</code> attempts to bridge the gap and preserve as much information as possible, but I frequently find myself stripping out all the label information and rebuilding it using <code>dplyr</code> functions and the codebook for the data file.</p>
<blockquote>
<p>Need to import a SAS, SPSS, or Stata data file? Read <a href="http://haven.tidyverse.org/articles/semantics.html">the documentation</a> to learn how to best handle value labels and missing values.</p>
</blockquote>
</div>
</div>
<div id="session-info" class="section level1 toc-ignore">
<h1>Session Info</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">session_info</span>()</code></pre></div>
<pre><code>## ─ Session info ──────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 3.5.2 (2018-12-20)
##  os       macOS Mojave 10.14.3        
##  system   x86_64, darwin15.6.0        
##  ui       X11                         
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       America/Chicago             
##  date     2019-03-02                  
## 
## ─ Packages ──────────────────────────────────────────────────────────────
##  package        * version    date       lib
##  assertthat       0.2.0      2017-04-11 [2]
##  backports        1.1.3      2018-12-14 [2]
##  base64enc        0.1-3      2015-07-28 [2]
##  broom            0.5.1      2018-12-05 [2]
##  callr            3.1.1      2018-12-21 [2]
##  cellranger       1.1.0      2016-07-27 [2]
##  cli              1.0.1      2018-09-25 [1]
##  codetools        0.2-16     2018-12-24 [2]
##  colorspace       1.4-0      2019-01-13 [2]
##  crayon           1.3.4      2017-09-16 [2]
##  desc             1.2.0      2018-05-01 [2]
##  devtools         2.0.1      2018-10-26 [1]
##  digest           0.6.18     2018-10-10 [1]
##  dplyr          * 0.8.0.1    2019-02-15 [1]
##  ellipsis         0.1.0      2019-02-19 [2]
##  evaluate         0.13       2019-02-12 [2]
##  fansi            0.4.0      2018-10-05 [2]
##  feather        * 0.3.2      2019-01-07 [2]
##  forcats        * 0.4.0      2019-02-17 [2]
##  fs               1.2.6      2018-08-23 [1]
##  generics         0.0.2      2018-11-29 [1]
##  ggplot2        * 3.1.0      2018-10-25 [1]
##  glue             1.3.0      2018-07-17 [2]
##  gtable           0.2.0      2016-02-26 [2]
##  haven          * 2.1.0      2019-02-19 [2]
##  here           * 0.1        2017-05-28 [2]
##  hms              0.4.2      2018-03-10 [2]
##  htmltools        0.3.6      2017-04-28 [1]
##  httr             1.4.0      2018-12-11 [2]
##  jsonlite         1.6        2018-12-07 [2]
##  knitr            1.21       2018-12-10 [2]
##  labeling         0.3        2014-08-23 [2]
##  lattice          0.20-38    2018-11-04 [2]
##  lazyeval         0.2.1      2017-10-29 [2]
##  lubridate        1.7.4      2018-04-11 [2]
##  magrittr         1.5        2014-11-22 [2]
##  memoise          1.1.0      2017-04-21 [2]
##  microbenchmark * 1.4-6      2018-10-18 [2]
##  modelr           0.1.4      2019-02-18 [2]
##  munsell          0.5.0      2018-06-12 [2]
##  nlme             3.1-137    2018-04-07 [2]
##  pillar           1.3.1      2018-12-15 [2]
##  pkgbuild         1.0.2      2018-10-16 [1]
##  pkgconfig        2.0.2      2018-08-16 [2]
##  pkgload          1.0.2      2018-10-29 [1]
##  plyr             1.8.4      2016-06-08 [2]
##  prettyunits      1.0.2      2015-07-13 [2]
##  processx         3.2.1      2018-12-05 [2]
##  ps               1.3.0      2018-12-21 [2]
##  purrr          * 0.3.0      2019-01-27 [2]
##  R6               2.4.0      2019-02-14 [1]
##  Rcpp             1.0.0      2018-11-07 [1]
##  readr          * 1.3.1      2018-12-21 [2]
##  readxl         * 1.3.0      2019-02-15 [2]
##  remotes          2.0.2      2018-10-30 [1]
##  rlang            0.3.1      2019-01-08 [1]
##  rmarkdown        1.11       2018-12-08 [2]
##  rprojroot        1.3-2      2018-01-03 [2]
##  rstudioapi       0.9.0      2019-01-09 [1]
##  rvest            0.3.2      2016-06-17 [2]
##  scales           1.0.0      2018-08-09 [1]
##  sessioninfo      1.1.1      2018-11-05 [1]
##  stringi          1.3.1      2019-02-13 [1]
##  stringr        * 1.4.0      2019-02-10 [1]
##  testthat         2.0.1      2018-10-13 [2]
##  tibble         * 2.0.1      2019-01-12 [2]
##  tidyr          * 0.8.2.9000 2019-02-11 [1]
##  tidyselect       0.2.5      2018-10-11 [1]
##  tidyverse      * 1.2.1      2017-11-14 [2]
##  usethis          1.4.0      2018-08-14 [1]
##  utf8             1.1.4      2018-05-24 [2]
##  withr            2.1.2      2018-03-15 [2]
##  xfun             0.5        2019-02-20 [1]
##  xml2             1.2.0      2018-01-24 [2]
##  yaml             2.2.0      2018-07-25 [2]
##  source                          
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.1)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.1)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.1)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  Github (tidyverse/tidyr@0b27690)
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.2)                  
##  CRAN (R 3.5.0)                  
##  CRAN (R 3.5.0)                  
## 
## [1] /Users/soltoffbc/Library/R/3.5/library
## [2] /Library/Frameworks/R.framework/Versions/3.5/Resources/library</code></pre>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Notice that the x-axis is logarithmically scaled.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>If you need to export data into Excel, use <code>readr::write_csv_excel()</code>.<a href="#fnref2">↩</a></p></li>
</ol>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiSW1wb3J0aW5nIGRhdGEgaW50byBSIgpvdXRwdXQ6CiAgaHRtbF9kb2N1bWVudDoKICAgIHRvYzogdHJ1ZQogICAgdG9jX2Zsb2F0OiB0cnVlCi0tLQoKYGBge3Igc2V0dXAsIGluY2x1ZGUgPSBGQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KGNhY2hlID0gVFJVRSkKYGBgCgpgYGB7ciBwYWNrYWdlcywgY2FjaGUgPSBGQUxTRSwgbWVzc2FnZSA9IEZBTFNFfQpsaWJyYXJ5KHRpZHl2ZXJzZSkKbGlicmFyeShoZXJlKQp0aGVtZV9zZXQodGhlbWVfbWluaW1hbCgpKQoKIyBzZXQgc2VlZCBmb3IgcmVwcm9kdWNpYmlsaXR5CnNldC5zZWVkKDEyMzQpCmBgYAoKIyBgcmVhZHJgIHZzLiBiYXNlIFIKCmBgYHtyIGRhdGEtZ2VuLCBpbmNsdWRlID0gRkFMU0V9Cm5fcm93X3MgPC0gNTAwMDAKCmRhdGFfc21hbGwgPC0gZGF0YV9mcmFtZSh4ID0gc2FtcGxlKHNlcShmcm9tID0gMSwgdG8gPSA0KSwgbl9yb3dfcywgcmVwbGFjZSA9IFRSVUUpLAogICAgICAgICAgIHkgPSBzYW1wbGUobGV0dGVycywgbl9yb3dfcywgcmVwbGFjZSA9IFRSVUUpLAogICAgICAgICAgIHogPSBzdHJfYyhzYW1wbGUobGV0dGVycywgbl9yb3dfcywgcmVwbGFjZSA9IFRSVUUpLAogICAgICAgICAgICAgICAgICAgICBzYW1wbGUoc2VxKGZyb20gPSAxLCB0byA9IDQpLCBuX3Jvd19zLCByZXBsYWNlID0gVFJVRSkpLAogICAgICAgICAgIHZhbHVlID0gcm5vcm0obl9yb3dfcykpICU+JQogIHdyaXRlX2NzdigiZGF0YS9zaW0tZGF0YS1zbWFsbC5jc3YiKQoKbl9yb3dfbCA8LSA1MDAwMDAwCgpkYXRhX2xhcmdlIDwtIGRhdGFfZnJhbWUoeCA9IHNhbXBsZShzZXEoZnJvbSA9IDEsIHRvID0gNCksIG5fcm93X2wsIHJlcGxhY2UgPSBUUlVFKSwKICAgICAgICAgICB5ID0gc2FtcGxlKGxldHRlcnMsIG5fcm93X2wsIHJlcGxhY2UgPSBUUlVFKSwKICAgICAgICAgICB6ID0gc3RyX2Moc2FtcGxlKGxldHRlcnMsIG5fcm93X2wsIHJlcGxhY2UgPSBUUlVFKSwKICAgICAgICAgICAgICAgICAgICAgc2FtcGxlKHNlcShmcm9tID0gMSwgdG8gPSA0KSwgbl9yb3dfbCwgcmVwbGFjZSA9IFRSVUUpKSwKICAgICAgICAgICB2YWx1ZSA9IHJub3JtKG5fcm93X2wpKSAlPiUKICB3cml0ZV9jc3YoImRhdGEvc2ltLWRhdGEtbGFyZ2UuY3N2IikKYGBgCgpPbmUgb2YgdGhlIG1haW4gYWR2YW50YWdlcyBvZiBgcmVhZHJgIGZ1bmN0aW9ucyBvdmVyIGJhc2UgUiBmdW5jdGlvbnMgaXMgdGhhdCBbdGhleSBhcmUgdHlwaWNhbGx5IG11Y2ggZmFzdGVyXShodHRwOi8vcjRkcy5oYWQuY28ubnovZGF0YS1pbXBvcnQuaHRtbCNjb21wYXJlZC10by1iYXNlLXIpLiBGb3IgZXhhbXBsZSwgbGV0J3MgaW1wb3J0IGEgcmFuZG9tbHkgZ2VuZXJhdGVkIENTViBmaWxlIHdpdGggYHIgcHJldHR5TnVtKG5fcm93X3MsIHNjaWVudGlmaWMgPSBGQUxTRSwgYmlnLm1hcmsgPSAiLCIpYCByb3dzIGFuZCBgbmNvbChkYXRhX3NtYWxsKWAgY29sdW1ucy4gSG93IGxvbmcgZG9lcyBpdCB0YWtlIGByZWFkLmNzdigpYCB0byBpbXBvcnQgdGhpcyBmaWxlIHZzLiBgcmVhZHI6OnJlYWRfY3N2KClgPyBUbyBhc3Nlc3MgdGhlIGRpZmZlcmVuY2VzLCB3ZSB1c2UgdGhlIFtgbWljcm9iZW5jaG1hcmtgXShodHRwczovL2NyYW4uci1wcm9qZWN0Lm9yZy93ZWIvcGFja2FnZXMvbWljcm9iZW5jaG1hcmsvKSB0byBydW4gZWFjaCBmdW5jdGlvbiAxMDAgdGltZXMgYW5kIGNvbXBhcmUgdGhlIGRpc3RyaWJ1dGlvbnMgb2YgdGhlIHRpbWUgaXQgdGFrZXMgdG8gY29tcGxldGUgdGhlIGRhdGEgaW1wb3J0OgoKYGBge3IgY29tcGFyZS1zcGVlZC1zbWFsbCwgZGVwZW5kc29uID0gImRhdGEtZ2VuIiwgbWVzc2FnZSA9IEZBTFNFfQpsaWJyYXJ5KG1pY3JvYmVuY2htYXJrKQoKcmVzdWx0c19zbWFsbCA8LSBtaWNyb2JlbmNobWFyaygKICByZWFkLmNzdiA9IHJlYWQuY3N2KGhlcmUoImRhdGEiLCAic2ltLWRhdGEtc21hbGwuY3N2IikpLAogIHJlYWRfY3N2ID0gcmVhZF9jc3YoaGVyZSgiZGF0YSIsICJzaW0tZGF0YS1zbWFsbC5jc3YiKSkKKQpgYGAKCmBgYHtyIGNvbXBhcmUtc3BlZWQtc21hbGwtcGxvdCwgZGVwZW5kc29uID0gImNvbXBhcmUtc3BlZWQtc21hbGwiLCBtZXNzYWdlID0gRkFMU0V9CmF1dG9wbG90KHJlc3VsdHNfc21hbGwpICsKICBzY2FsZV95X2xvZzEwKGJyZWFrcyA9IGMoMjUsIDUwLCAxMDApKSArCiAgbGFicyh5ID0gIlRpbWUgW21pbGxpc2Vjb25kc10sIGxvZ2dlZCIpCmBgYAoKYHJlYWRfY3N2KClgIGlzIG92ZXIgNSB0aW1lcyBmYXN0ZXIgdGhhbiBgcmVhZC5jc3YoKWAuIE9mIGNvdXJzZSB3aXRoIHJlbGF0aXZlbHkgc21hbGwgZGF0YSBmaWxlcywgdGhpcyBpc24ndCBhIGxhcmdlIGRpZmZlcmVuY2UgaW4gYWJzb2x1dGUgdGVybXMgKGEgZGlmZmVyZW5jZSBvZiAxMDAgbWlsbGlzZWNvbmRzIGlzIG9ubHkgLjEgc2Vjb25kKS4gSG93ZXZlciwgYXMgdGhlIGRhdGEgZmlsZSBpbmNyZWFzZXMgaW4gc2l6ZSB0aGUgcGVyZm9ybWFuY2Ugc2F2aW5ncyB3aWxsIGJlIG11Y2ggbGFyZ2VyLiBDb25zaWRlciB0aGUgc2FtZSB0ZXN0IHdpdGggYSBDU1YgZmlsZSB3aXRoIGByIHByZXR0eU51bShuX3Jvd19sLCBzY2llbnRpZmljID0gRkFMU0UsIGJpZy5tYXJrID0gIiwiKWAgcm93czoKCmBgYHtyIGNvbXBhcmUtc3BlZWQtbGFyZ2UsIGRlcGVuZHNvbiA9ICJkYXRhLWdlbiIsIG1lc3NhZ2UgPSBGQUxTRX0KbGlicmFyeShtaWNyb2JlbmNobWFyaykKCnJlc3VsdHNfbGFyZ2UgPC0gbWljcm9iZW5jaG1hcmsoCiAgcmVhZC5jc3YgPSByZWFkLmNzdihoZXJlKCJkYXRhIiwgInNpbS1kYXRhLWxhcmdlLmNzdiIpKSwKICByZWFkX2NzdiA9IHJlYWRfY3N2KGhlcmUoImRhdGEiLCAic2ltLWRhdGEtbGFyZ2UuY3N2IikpCikKYGBgCgpgYGB7ciBjb21wYXJlLXNwZWVkLWxhcmdlLXBsb3QsIGRlcGVuZHNvbiA9ICJjb21wYXJlLXNwZWVkLWxhcmdlIiwgbWVzc2FnZSA9IEZBTFNFfQphdXRvcGxvdChyZXN1bHRzX2xhcmdlKSArCiAgc2NhbGVfeV9sb2cxMChicmVha3MgPSBjKDIuNSwgNSwgMTAsIDIwKSkgKwogIGxhYnMoeSA9ICJUaW1lIFtzZWNvbmRzXSwgbG9nZ2VkIikKYGBgCgpIZXJlIGByZWFkX2NzdigpYCBpcyBmYXIgc3VwZXJpb3IgdG8gYHJlYWQuY3N2KClgLgoKIyBBbHRlcm5hdGl2ZSBmaWxlIGZvcm1hdHMKCkNTViBmaWxlcywgd2hpbGUgY29tbW9uLCBhcmUgbm90IHRoZSBvbmx5IHR5cGUgb2YgZGF0YSBzdG9yYWdlIGZvcm1hdCB5b3Ugd2lsbCBlbmNvdW50ZXIgaW4gdGhlIHdpbGQuIEhlcmUgaXMgYSBxdWljayBwcmltZXIgb24gb3RoZXIgZmlsZSBmb3JtYXRzIHlvdSBtYXkgZW5jb3VudGVyIGFuZCBob3cgdG8gaW1wb3J0L2V4cG9ydCB0aGVtIHVzaW5nIFIuIFdlJ2xsIHVzZSB0aGUgYGNoYWxsZW5nZWAgZGF0YXNldCBpbiBgcmVhZHJgIHRvIGRlbW9uc3RyYXRlIHNvbWUgb2YgdGhlc2UgZm9ybWF0cy4KCmBgYHtyIGNoYWxsZW5nZX0KY2hhbGxlbmdlIDwtIHJlYWRfY3N2KAogIHJlYWRyX2V4YW1wbGUoImNoYWxsZW5nZS5jc3YiKSwgCiAgY29sX3R5cGVzID0gY29scygKICAgIHggPSBjb2xfZG91YmxlKCksCiAgICB5ID0gY29sX2RhdGUoKQogICkKKQoKY2hhbGxlbmdlCmBgYAoKIyMgUkRTCgoqKlJEUyoqIGlzIGEgY3VzdG9tIGJpbmFyeSBmb3JtYXQgdXNlZCBleGNsdXNpdmVseSBieSBSIHRvIHN0b3JlIGRhdGEgb2JqZWN0cy4KCmBgYHtyIHJkcywgZGVwZW5kc29uID0gImNoYWxsZW5nZSIsIG1lc3NhZ2UgPSBGQUxTRX0KIyB3cml0ZSB0byBjc3YKd3JpdGVfY3N2KGNoYWxsZW5nZSwgaGVyZSgiZGF0YSIsICJjaGFsbGVuZ2UuY3N2IikpCgojIHdyaXRlIHRvL3JlYWQgZnJvbSByZHMKd3JpdGVfcmRzKGNoYWxsZW5nZSwgaGVyZSgiZGF0YSIsICJjaGFsbGVuZ2UuY3N2IikpCnJlYWRfcmRzKGhlcmUoImRhdGEiLCAiY2hhbGxlbmdlLmNzdiIpKQoKIyBjb21wYXJlIGZpbGUgc2l6ZQpmaWxlLmluZm8oaGVyZSgiZGF0YSIsICJjaGFsbGVuZ2UucmRzIikpJHNpemUgJT4lCiAgdXRpbHM6Ojpmb3JtYXQub2JqZWN0X3NpemUoImF1dG8iKQoKZmlsZS5pbmZvKGhlcmUoImRhdGEiLCAiY2hhbGxlbmdlLmNzdiIpKSRzaXplICU+JQogIHV0aWxzOjo6Zm9ybWF0Lm9iamVjdF9zaXplKCJhdXRvIikKCiMgY29tcGFyZSByZWFkIHNwZWVkcwptaWNyb2JlbmNobWFyaygKICByZWFkX2NzdiA9IHJlYWRfY3N2KAogICAgcmVhZHJfZXhhbXBsZSgiY2hhbGxlbmdlLmNzdiIpLCAKICAgIGNvbF90eXBlcyA9IGNvbHMoCiAgICAgIHggPSBjb2xfZG91YmxlKCksCiAgICAgIHkgPSBjb2xfZGF0ZSgpCiAgICApCiAgKSwKICByZWFkX3JkcyA9IHJlYWRfcmRzKGhlcmUoImRhdGEiLCAiY2hhbGxlbmdlLnJkcyIpKQopICU+JQogIGF1dG9wbG90ICsKICBsYWJzKHkgPSAiVGltZSBbbWljcm9zZWNvbmRzXSwgbG9nZ2VkIikKYGBgCgpCeSBkZWZhdWx0LCBgd3JpdGVfcmRzKClgIGRvZXMgbm90IGNvbXByZXNzIHRoZSBgLnJkc2AgZmlsZTsgdXNlIHRoZSBgY29tcHJlc3NgIGFyZ3VtZW50IHRvIGltcGxlbWVudCBvbmUgb2Ygc2V2ZXJhbCBkaWZmZXJlbnQgY29tcHJlc3Npb24gYWxnb3JpdGhtcy4gYHJlYWRfcmRzKClgIGlzIG5vdGljYWJseSBmYXN0ZXIgdGhhbiBgcmVhZF9jc3YoKWAsIGFuZCBhbHNvIGhhcyB0aGUgYmVuZWZpdCBvZiBbcHJlc2VydmluZyBjb2x1bW4gdHlwZXNdKGh0dHA6Ly9yNGRzLmhhZC5jby5uei9kYXRhLWltcG9ydC5odG1sI3dyaXRpbmctdG8tYS1maWxlKS4gVGhlIGRvd25zaWRlIGlzIHRoYXQgUkRTIGlzIG9ubHkgaW1wbGVtZW50ZWQgYnkgUjsgaXQgaXMgbm90IHVzZWQgYnkgYW55IG90aGVyIHByb2dyYW0gc28gaWYgeW91IG5lZWQgdG8gaW1wb3J0L2V4cG9ydCBkYXRhIGZpbGVzIGludG8gb3RoZXIgbGFuZ3VhZ2VzIGxpa2UgUHl0aG9uIChvciBvcGVuIGluIEV4Y2VsKSwgUkRTIGlzIG5vdCBhIGdvb2Qgc3RvcmFnZSBmb3JtYXQuCgojIyBgZmVhdGhlcmAKClRoZSBgZmVhdGhlcmAgcGFja2FnZSBpbXBsZW1lbnRzIGEgYmluYXJ5IGZpbGUgZm9ybWF0IHRoYXQgaXMgY3Jvc3MtY29tcGF0aWJsZSB3aXRoIG1hbnkgZGlmZmVyZW50IHByb2dyYW1taW5nIGxhbmd1YWdlczoKCmBgYHtyIGZlYXRoZXIsIGRlcGVuZHNvbiA9ICJjaGFsbGVuZ2UiLCBtZXNzYWdlID0gRkFMU0V9CmxpYnJhcnkoZmVhdGhlcikKCndyaXRlX2ZlYXRoZXIoY2hhbGxlbmdlLCBoZXJlKCJkYXRhIiwgImNoYWxsZW5nZS5mZWF0aGVyIikpCnJlYWRfZmVhdGhlcihoZXJlKCJkYXRhIiwgImNoYWxsZW5nZS5mZWF0aGVyIikpCgojIGNvbXBhcmUgcmVhZCBzcGVlZHMKbWljcm9iZW5jaG1hcmsoCiAgcmVhZF9jc3YgPSByZWFkX2NzdigKICAgIHJlYWRyX2V4YW1wbGUoImNoYWxsZW5nZS5jc3YiKSwgCiAgICBjb2xfdHlwZXMgPSBjb2xzKAogICAgICB4ID0gY29sX2RvdWJsZSgpLAogICAgICB5ID0gY29sX2RhdGUoKQogICAgKQogICksCiAgcmVhZF9yZHMgPSByZWFkX3JkcyhoZXJlKCJkYXRhIiwgImNoYWxsZW5nZS5yZHMiKSksCiAgcmVhZF9mZWF0aGVyID0gcmVhZF9mZWF0aGVyKGhlcmUoImRhdGEiLCAiY2hhbGxlbmdlLmZlYXRoZXIiKSkKKSAlPiUKICBhdXRvcGxvdCArCiAgc2NhbGVfeV9jb250aW51b3VzKGxhYmVscyA9IHNjYWxlczo6Y29tbWEpICsKICBsYWJzKHkgPSAiVGltZSBbbWljcm9zZWNvbmRzXSwgbG9nZ2VkIikKYGBgCgpgZmVhdGhlcmAgaXMgZ2VuZXJhbGx5IGZhc3RlciB0aGFuIFJEUyBhbmQgYHJlYWRfY3N2KClgLl5bTm90aWNlIHRoYXQgdGhlIHgtYXhpcyBpcyBsb2dhcml0aG1pY2FsbHkgc2NhbGVkLl0gRnVydGhlcm1vcmUsIFtpdCBoYXMgbmF0aXZlIHN1cHBvcnQgZm9yIFB5dGhvbiwgUiwgYW5kIEp1bGlhLl0oaHR0cHM6Ly9naXRodWIuY29tL3dlc20vZmVhdGhlciksIHNvIGlmIHlvdSBkZXZlbG9wIGFuIGFuYWx5dGljcyBwaXBlbGluZSB0aGF0IHN3aXRjaGVzIGJldHdlZW4gUiBhbmQgUHl0aG9uLCB5b3UgY2FuIGltcG9ydC9leHBvcnQgZGF0YSBmaWxlcyBpbiBgLmZlYXRoZXJgIHdpdGhvdXQgYW55IGxvc3Mgb2YgaW5mb3JtYXRpb24uCgojIyBgcmVhZHhsYAoKW2ByZWFkeGxgXShodHRwOi8vcmVhZHhsLnRpZHl2ZXJzZS5vcmcvKSBlbmFibGVzIHlvdSB0byByZWFkIChidXQgbm90IHdyaXRlKSBFeGNlbCBmaWxlcyAoYC54bHNgIGFuZCBgeGxzeGApLl5bSWYgeW91IG5lZWQgdG8gZXhwb3J0IGRhdGEgaW50byBFeGNlbCwgdXNlIGByZWFkcjo6d3JpdGVfY3N2X2V4Y2VsKClgLl0KCmBgYHtyIHJlYWR4bH0KbGlicmFyeShyZWFkeGwpCgp4bHN4X2V4YW1wbGUgPC0gcmVhZHhsX2V4YW1wbGUoImRhdGFzZXRzLnhsc3giKQpyZWFkX2V4Y2VsKHhsc3hfZXhhbXBsZSkKYGBgCgpUaGUgbmljZSB0aGluZyBhYm91dCBgcmVhZHhsYCBpcyB0aGF0IHlvdSBjYW4gYWNjZXNzIG11bHRpcGxlIHNoZWV0cyBmcm9tIHRoZSB3b3JrYm9vay4gTGlzdCB0aGUgc2hlZXQgbmFtZXMgd2l0aCBgZXhjZWxfc2hlZXRzKClgOgoKYGBge3IgcmVhZHhsLXNoZWV0cywgZGVwZW5kc29uID0gInJlYWR4bCJ9CmV4Y2VsX3NoZWV0cyh4bHN4X2V4YW1wbGUpCmBgYAoKVGhlbiBzcGVjaWZ5IHdoaWNoIHdvcmtzaGVldCB5b3Ugd2FudCBieSBuYW1lIG9yIG51bWJlcjoKCmBgYHtyIHJlYWR4bC1zZWxlY3Qtc2hlZXQsIGRlcGVuZHNvbiA9ICJyZWFkeGwifQpyZWFkX2V4Y2VsKHhsc3hfZXhhbXBsZSwgc2hlZXQgPSAiY2hpY2t3dHMiKQpyZWFkX2V4Y2VsKHhsc3hfZXhhbXBsZSwgc2hlZXQgPSAyKQpgYGAKCiMjIGBoYXZlbmAKCltgaGF2ZW5gXShodHRwOi8vaGF2ZW4udGlkeXZlcnNlLm9yZy8pIGFsbG93cyB5b3UgdG8gcmVhZCBhbmQgd3JpdGUgZGF0YSBmcm9tIG90aGVyIHN0YXRpc3RpY2FsIHBhY2thZ2VzIHN1Y2ggYXMgU0FTIChgLnNhczdiZGF0YCArIGAuc2FzN2JjYXRgKSwgU1BTUyAoYC5zYXZgICsgYC5wb3JgKSwgYW5kIFN0YXRhIChgLmR0YWApLgoKYGBge3IgaGF2ZW59CmxpYnJhcnkoaGF2ZW4pCgojIFNBUwpyZWFkX3NhcyhzeXN0ZW0uZmlsZSgiZXhhbXBsZXMiLCAiaXJpcy5zYXM3YmRhdCIsIHBhY2thZ2UgPSAiaGF2ZW4iKSkKd3JpdGVfc2FzKG10Y2FycywgaGVyZSgiZGF0YSIsICJtdGNhcnMuc2FzN2JkYXQiKSkKCiMgU1BTUwpyZWFkX3NhdihzeXN0ZW0uZmlsZSgiZXhhbXBsZXMiLCAiaXJpcy5zYXYiLCBwYWNrYWdlID0gImhhdmVuIikpCndyaXRlX3NhdihtdGNhcnMsIGhlcmUoImRhdGEiLCAibXRjYXJzLnNhdiIpKQoKIyBTdGF0YQpyZWFkX2R0YShzeXN0ZW0uZmlsZSgiZXhhbXBsZXMiLCAiaXJpcy5kdGEiLCBwYWNrYWdlID0gImhhdmVuIikpCndyaXRlX2R0YShtdGNhcnMsIGhlcmUoImRhdGEiLCAibXRjYXJzLmR0YSIpKQpgYGAKClRoYXQgc2FpZCwgaWYgeW91IGNhbiBvYnRhaW4geW91ciBkYXRhIGZpbGUgaW4gYSBwbGFpbiBgLmNzdmAgb3IgYC50c3ZgIGZpbGUgZm9ybWF0LCAqKkkgc3Ryb25nbHkgcmVjb21tZW5kIGl0KiouIFNBUywgU1BTUywgYW5kIFN0YXRhIGZpbGVzIHJlcHJlc2VudCBsYWJlbGVkIGRhdGEgYW5kIG1pc3NpbmcgdmFsdWVzIGRpZmZlcmVudGx5IGZyb20gUi4gYGhhdmVuYCBhdHRlbXB0cyB0byBicmlkZ2UgdGhlIGdhcCBhbmQgcHJlc2VydmUgYXMgbXVjaCBpbmZvcm1hdGlvbiBhcyBwb3NzaWJsZSwgYnV0IEkgZnJlcXVlbnRseSBmaW5kIG15c2VsZiBzdHJpcHBpbmcgb3V0IGFsbCB0aGUgbGFiZWwgaW5mb3JtYXRpb24gYW5kIHJlYnVpbGRpbmcgaXQgdXNpbmcgYGRwbHlyYCBmdW5jdGlvbnMgYW5kIHRoZSBjb2RlYm9vayBmb3IgdGhlIGRhdGEgZmlsZS4KCj4gTmVlZCB0byBpbXBvcnQgYSBTQVMsIFNQU1MsIG9yIFN0YXRhIGRhdGEgZmlsZT8gUmVhZCBbdGhlIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9oYXZlbi50aWR5dmVyc2Uub3JnL2FydGljbGVzL3NlbWFudGljcy5odG1sKSB0byBsZWFybiBob3cgdG8gYmVzdCBoYW5kbGUgdmFsdWUgbGFiZWxzIGFuZCBtaXNzaW5nIHZhbHVlcy4KCiMgU2Vzc2lvbiBJbmZvIHsudG9jLWlnbm9yZX0KCmBgYHtyIGNoaWxkPSdfc2Vzc2lvbmluZm8uUm1kJ30KYGBgCg==</div>
<p>This work is licensed under the  <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0 Creative Commons License</a>.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
